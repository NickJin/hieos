<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : xconfig.xml
    Created on : January 14, 2009, 4:52 PM (reworked structure on December 14, 2010).
    Author     : Bernie Thuman
    Description:
        Master configuration file for HIEOS supported IHE profiles (and other standards).
-->

<Config>

    <Object name="home" type="HomeCommunityType">
        <UniqueId>urn:oid:1.3.6.1.4.1.21367.13.3070</UniqueId>
        <ObjectReference name="ig" refname="localig" reftype="InitiatingGatewayType"/>
        <ObjectReference name="rg" refname="localrg" reftype="RespondingGatewayType"/>

       <!-- This is used to configure the local repository. In the future, we may need to find
        a better way to allow the same instance to support more than one repository ID.  This is really
        only used for the "Provide and Register" transaction.  The Gateway's lookup the proper repository
        by using the "repositoryId" in the associated "Retrieve" requests. -->
        <ObjectReference name="repo" refname="localrepository" reftype="DocumentRepositoryType"/>

        <!-- Moved to Registry configuration -->
        <!--
        <Property name="ValidatePatientId">true</Property>-->
        <!-- Set this property to false to disable XML schema validation for all input messages
             recieved by HIEOS. -->
        <Property name="XMLSchemaValidationEnabled">true</Property>
        <Property name="XMLSchemaHL7V3ValidationEnabled">true</Property>

         <!-- ATNA configuration parameters. --> 
        <Property name="ATNAPerformAudit">false</Property>
        <Property name="ATNAsyslogProtocol">udp</Property>
        <Property name="ATNAsyslogHost">10.242.17.125</Property>
        <Property name="ATNAsyslogPort">3110</Property> <!-- UDP Port 3110; TCP Port 3100-->
	    
        <!-- MIR SYSLOG -->
	    <!-- MIR SYSLOG Browser URL: http://ihe-kudu.wustl.edu/mesa-logs/ -->
	    <!--<Property name="ATNAsyslogHost">ihe-kudu.wustl.edu</Property>
	    <Property name="ATNAsyslogPort">4001</Property>-->
	
	    <!-- MESA SYSLOG -->
	    <!--<Property name="ATNAsyslogHost">localhost</Property>
	    <Property name="ATNAsyslogPort">4001</Property> -->
	
	    <!-- NIST ATNA log -->
	    <!--NIST syslog (browser URL: http://129.6.24.109:9080/SyslogBrowser/) -->
        <!--<Property name="ATNAsyslogHost">129.6.24.109</Property>
        <Property name="ATNAsyslogPort">8087</Property>-->

        <!-- HIEOS ATNA log -->
        <!--<Property name="ATNAsyslogHost">vangent1</Property>
        <Property name="ATNAsyslogPort">3110</Property>-->	<!-- UDP Port 3110; TCP Port 3100-->

        <!-- SOAP configuration parameters. -->
        <Property name="SOAPTimeOutInMilliseconds">10000</Property> <!-- 10 seconds -->
        <Property name="SOAPAsyncTimeOutInMilliseconds">10000</Property> <!-- 10 seconds -->
        <Property name="SOAPAsyncResponseHTTPPort">8091</Property>

        <!-- Log file parameters -->
        <Property name="LogEnabled">true</Property>  <!-- set to false to turn internal debug log off. -->

        <!-- Repository parameters (may want to move to repository configuration section). -->
        <Property name="RepoStorageClassImpl">com.vangent.hieos.services.xds.repository.storage.XDSRepositoryStorageSQL</Property>

        <!-- so PIX/PDQ know how to get there related configuration -->
        <ObjectReference name="pix" refname="localpix" reftype="PIXManagerType"/>
        <ObjectReference name="pds" refname="localpds" reftype="PDSType"/>

        <!-- Secure Token Service -->
        <ObjectReference name="sts" refname="localsts" reftype="SecureTokenServiceType"/>

        <!-- Policy Decision Point (PDP) -->
        <ObjectReference name="pdp" refname="localpdp" reftype="PolicyDecisionPointType"/>

         <!-- Policy Information Point (PIP) -->
        <ObjectReference name="pip" refname="localpip" reftype="PolicyInformationPointType"/>

        <!-- XDS Bridge -->
        <ObjectReference name="xdsbridge" refname="localxdsbridge" reftype="XDSBridgeType"/>

        <!-- XDR Document Recipient -->
        <ObjectReference name="docrecipient" refname="localdocrecipient" reftype="DocumentRecipientType"/>

        <!-- Other global properties will go here. -->
    </Object>

    <Object name="XUAProperties" type="XUAPropertiesType">
        <Property name="XUAEnabled">false</Property>
        <!--<Property name="STSValidatorURL">http://tiani-cisco6:8088/SpiritIdentityProvider2/sts_validator</Property>-->
        <Property name="STSValidatorURL">http://localhost:8127/axis2/services/STS</Property>
        <Property name="STSValidatorServiceURI">http://docs.oasis-open.org/ws-sx/ws-trust/200512/RST/Validate</Property>
        
        <!-- Set SOAPActions to "ALL" to constrain all SOAP actions. -->
        <Property name="SOAPActions">ALL</Property>
        <!--
        <Property name="SOAPActions">urn:ihe:iti:2007:RegisterDocumentSet-b;urn:ihe:iti:2007:ProvideAndRegisterDocumentSet-b;urn:ihe:iti:2007:RegistryStoredQuery;urn:ihe:iti:2007:RetrieveDocumentSet;urn:ihe:iti:2007:CrossGatewayQuery;urn:ihe:iti:2007:CrossGatewayRetrieve</Property>
        -->
         <!-- List of IP addresses to control - this is really here to support XUA testing
             at Connectathon; this allows other non-XUA testing (for other IP addresses) to
             continue on the same instance. The list of IP addresses below will be the
             only ones subject to SAML validation. Separate IPs with a semicolon. An empty
             property or a value set to ALL will constrain all IP addresses. -->
        <Property name="ConstrainedIPAddresses">ALL</Property>
    </Object>

   <!-- List of assigning authorities (tells the Initiating Gateway where to go when it receives
        a registry query by patient id). Each patient id has an associated assigning authority.  This
        is temporary until PIX integration is complete.  -->

    <!-- "xdstest" default assigning authority when generating patient ids. -->
    <Object name="xdstest" type="AssigningAuthorityType">
        <UniqueId>&amp;1.3.6.1.4.1.21367.2005.3.7&amp;ISO</UniqueId>
        <ObjectReference refname="localregistry" reftype="DocumentRegistryType"/>  <!-- should only have one registry designated (for now). -->
        <!--<ObjectReference refname="vangent2-rg" reftype="RespondingGatewayType"/>-->
        <!--<ObjectReference refname="nistrg" reftype="RespondingGatewayType"/>-->
    </Object>

    <!-- The master assigning authority used in all Connectathon and HIMSS Affinity Domains. -->
    <Object name="IHENA1" type="AssigningAuthorityType">
        <UniqueId>&amp;1.3.6.1.4.1.21367.13.20.1000&amp;ISO</UniqueId>
        <ObjectReference refname="localregistry" reftype="DocumentRegistryType"/>  <!-- should only have one registry designated (for now). -->
        <!--<ObjectReference refname="vangent2-rg" reftype="RespondingGatewayType"/>-->
        <!--<ObjectReference refname="nistrg" reftype="RespondingGatewayType"/>-->
    </Object>

    <!-- The master assigning authority used in all Connectathon and HIMSS Affinity Domains. -->
    <Object name="IHENA2" type="AssigningAuthorityType">
        <UniqueId>&amp;1.3.6.1.4.1.21367.13.20.2000&amp;ISO</UniqueId>
        <ObjectReference refname="localregistry" reftype="DocumentRegistryType"/>  <!-- should only have one registry designated (for now). -->
        <!--<ObjectReference refname="vangent2-rg" reftype="RespondingGatewayType"/>-->
        <!--<ObjectReference refname="nistrg" reftype="RespondingGatewayType"/>-->
    </Object>
    
    <!-- The master assigning authority used in all Connectathon and HIMSS Affinity Domains. -->
    <Object name="IHENA3" type="AssigningAuthorityType">
        <UniqueId>&amp;1.3.6.1.4.1.21367.13.20.3000&amp;ISO</UniqueId>
        <ObjectReference refname="localregistry" reftype="DocumentRegistryType"/>  <!-- should only have one registry designated (for now). -->
        <!--<ObjectReference refname="vangent2-rg" reftype="RespondingGatewayType"/>-->
        <!--<ObjectReference refname="nistrg" reftype="RespondingGatewayType"/>-->
    </Object>

    <!-- The master assigning authority used in all Connectathon and HIMSS Affinity Domains. -->
    <Object name="XCPD_Test" type="AssigningAuthorityType">
        <UniqueId>&amp;1.3.6.1.4.1.21367.13.20.1300&amp;ISO</UniqueId>
        <ObjectReference refname="localregistry" reftype="DocumentRegistryType"/>  <!-- should only have one registry designated (for now). -->
        <!--<ObjectReference refname="vangent2-rg" reftype="RespondingGatewayType"/>-->
        <!--<ObjectReference refname="nistrg" reftype="RespondingGatewayType"/>-->
    </Object>
    
    <!-- HIMSS Registration System. -->
    <Object name = "PAMX" type="AssigningAuthorityType">
        <UniqueId>&amp;1.3.6.1.4.1.21367.2010.1.2.315&amp;ISO</UniqueId>
        <ObjectReference refname="localregistry" reftype="DocumentRegistryType"/>  <!-- should only have one registry designated (for now). -->
        <!--<ObjectReference refname="vangent2-rg" reftype="RespondingGatewayType"/>-->
        <!--<ObjectReference refname="nistrg" reftype="RespondingGatewayType"/>-->
    </Object>

    <!-- Secure Token Service (STS) -->
    <Actor name="localsts" type="SecureTokenServiceType">
        <UniqueId>NA</UniqueId>

        <!-- TBD add Transactions -->

        <Property name="IssuerName">HIEOS STS</Property>

        <!-- if IssuerAlias is not set, will use "s1as" as default value. -->
        <Property name="IssuerAlias">wssip</Property>
        
        <!-- UNCOMMENT the below properties if desired and set accordingly. -->
        
        <!-- if IssuerPassword is not set, will use same password assocated with keyStore. -->
        <!--
        <Property name="IssuerPassword">changeit</Property>
        -->
        <!-- if TrustStore is not set, will use "javax.net.ssl.trustStore" system property. -->
        <!-- if KeyStore is not set, will use "javax.net.ssl.keyStore" system property. -->
        <!--
        <Property name="TrustStore">C:/glassfish/domains/hieos-sts/config/cacerts.jks</Property>
        <Property name="KeyStore">C:/glassfish/domains/hieos-sts/config/keystore.jks</Property>
        -->
        <!-- if TrustStorePassword is not set, will use "javax.net.ssl.trustStorePassword" system property. -->
        <!-- if KeyStorePassword is not set, will use "javax.net.ssl.keyStorePassword" system property. -->
        <!--
        <Property name="TrustStorePassword">changeit</Property>
        <Property name="KeyStorePassword">changeit</Property>
        -->
        <Property name="TimeToLiveInMilliseconds">100000</Property>

        <!-- AuthenticationType (possible values) - used for token issuance:
            UserNameToken
            BinarySecurityToken [must supply X.509 cert]
        -->
        <Property name="AuthenticationType">UserNameToken</Property>

        <!-- Configuration for UserNameToken w/ LDAP -->
        <!-- Authentication Handler Configuration -->
        <Property name="AuthHandlerClassImpl">com.vangent.hieos.authutil.mock.MockAuthHandler</Property>
        <!--<Property name="AuthHandlerClassImpl">com.vangent.hieos.authutil.ldap.LDAPAuthenticationHandler</Property>-->

        <!-- if using UserNameToken w/ LDAP ... -->
        <Property name="AuthHandlerLDAP_URL">ldap://yourldap.com:389</Property>
        <Property name="AuthHandlerLDAP_BASE_DN">OU=yourdivision,DC=yourorganization,DC=com</Property>

        <!-- ComputeSubjectNameFromClaims:
            true - create SubjectName from XSPA subject-id claim.
            false - extract SubjectName from X.509 Certificate when using BinarySecurityToken
                    or from LDAP DistinguishedName when using UserNameToken
        -->
        <Property name="ComputeSubjectNameFromClaims">true</Property>

    </Actor>

    <!-- Policy Decision Point (PDP) -->
    <Actor name="localpdp" type="PolicyDecisionPointType">
        <UniqueId>NA</UniqueId>
        <Transaction name="Authorize" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/pdp</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/pdp</Endpoint>
            <Endpoint secure="false" async="true">http://XXXX</Endpoint>
            <Endpoint secure="true"  async="true">https://XXXX</Endpoint>
        </Transaction>

        <!-- The SOAP action to use when using the "Authorize" transaction. -->
        <Property name="AuthorizeSOAPAction">urn:Authorize</Property>

        <!-- Reference to Policy Information Point (PIP) to use. -->
        <ObjectReference name="pip" refname="localpip" reftype="PolicyInformationPointType"/>
    </Actor>

     <!-- Policy Information Point (PIP) -->
    <Actor name="localpip" type="PolicyInformationPointType">
        <UniqueId>NA</UniqueId>
        <Transaction name="GetConsentDirectives" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/pip</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/pip</Endpoint>
            <Endpoint secure="false" async="true">http://XXXX</Endpoint>
            <Endpoint secure="true"  async="true">https://XXXX</Endpoint>
        </Transaction>
    </Actor>

    <!-- XDS Bridge -->
    <Actor name="localxdsbridge" type="XDSBridgeType">
        <UniqueId>NA</UniqueId>
        <Transaction name="SubmitDocumentRequest" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xdsbridge</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xdsbridge</Endpoint>
            <Endpoint secure="false" async="true">http://XXXX</Endpoint>
            <Endpoint secure="true"  async="true">https://XXXX</Endpoint>
        </Transaction>
        
        <!-- FIXME: Consider getting registry configuration from "repo" configuration. -->
        <ObjectReference name="registry" refname="localregistry" reftype="DocumentRegistryType"/>
        <ObjectReference name="repo" refname="localrepository" reftype="DocumentRepositoryType"/>

        <Property name="ConfigFile">xdsbridgeconfig.xml</Property>
        <Property name="ProvideAndRegisterMetadataTemplate">ProvideAndRegisterMetadata.xml</Property>

        <Property name="DeviceId">1.3.6.1.4.1.21367.13.10.418</Property>
        <Property name="DeviceName">HIEOS_XDSBridge</Property>
    </Actor>

   <!-- List of Registries -->
    <Actor name="localregistry" type="DocumentRegistryType">
        <UniqueId>NA</UniqueId>
        <Transaction name="RegisterDocumentSet-b" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xdsregistryb</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xdsregistryb</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xdsregistrybas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xdsregistrybas</Endpoint>
        </Transaction>
        <Transaction name="RegistryStoredQuery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xdsregistryb</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xdsregistryb</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xdsregistrybas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xdsregistrybas</Endpoint>
        </Transaction>
        <Transaction name="PatientIdentityFeed" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xdsregistryb</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xdsregistryb</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xdsregistrybas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xdsregistrybas</Endpoint>
        </Transaction>
        <Property name="ValidatePatientId">true</Property>
        
        <!-- "ReceiverDeviceId" is used by the patient identity feed to identify the registry in ACKs -->
        <Property name="ReceiverDeviceId">1.3.6.1.4.1.21367.13.10.417</Property>
        <Property name="ReceiverDeviceName">GATEWAY_VANGENT_XDSbRegistry</Property>
        <Property name="MaxLeafObjectsAllowedFromQuery">25</Property>
    </Actor>

   <!-- List of Repositories -->
    <Actor name="localrepository" type="DocumentRepositoryType">
        <UniqueId>1.3.6.1.4.1.21367.13.1185</UniqueId>
        <Transaction name="RetrieveDocumentSet" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xdsrepositoryb</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xdsrepositoryb</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xdsrepositorybas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xdsrepositorybas</Endpoint>
        </Transaction>
        <Transaction name="ProvideAndRegisterDocumentSet-b" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xdsrepositoryb</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xdsrepositoryb</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xdsrepositorybas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xdsrepositorybas</Endpoint>
        </Transaction>

        <!-- This tells the repository what registry to utilize during "Provide and Register" -->
        <ObjectReference name="registry" refname="localregistry" reftype="DocumentRegistryType"/>
    </Actor>

<!-- XDR Document Recipient -->
    <Actor name="localdocrecipient" type="DocumentRecipientType">
        <UniqueId>1.3.6.1.4.1.21367.13.1185</UniqueId>
        <Transaction name="ProvideAndRegisterDocumentSet-b" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xdsrepositoryb</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xdsrepositoryb</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xdsrepositorybas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xdsrepositorybas</Endpoint>
        </Transaction>
    </Actor>

<!--
    <Actor name="vangent-repository-2" type="DocumentRepositoryType">
        <UniqueId>1.3.6.1.4.1.21367.13.1186</UniqueId>
        <Transaction name="RetrieveDocumentSet" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8105/axis2/services/xdsrepositoryb</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8206/axis2/services/xdsrepositoryb</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8105/axis2/services/xdsrepositorybas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8206/axis2/services/xdsrepositorybas</Endpoint>
        </Transaction>
        <Transaction name="ProvideAndRegisterDocumentSet-b" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8105/axis2/services/xdsrepositoryb</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8206/axis2/services/xdsrepositoryb</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8105/axis2/services/xdsrepositorybas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8206/axis2/services/xdsrepositorybas</Endpoint>
        </Transaction>
    </Actor>
-->

   <!-- List of Gateways -->   

    <Actor name="localig" type="InitiatingGatewayType"> <!-- Local Initiating Gateway -->
        <UniqueId>urn:oid:1.3.6.1.4.1.21367.13.3070</UniqueId> <!-- Home Community ID -->
        <Transaction name="RegistryStoredQuery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xcaig</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xcaig</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xcaigas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xcaigas</Endpoint>
        </Transaction>
        <Transaction name="RetrieveDocumentSet" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xcaig</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xcaig</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xcaigas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xcaigas</Endpoint>
        </Transaction>
        <Transaction name="PatientRegistryGetIdentifiersQuery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xcpdig</Endpoint>
            <Endpoint secure="true"  async="false">https://XXXX</Endpoint>
            <Endpoint secure="false" async="true">http://XXXX</Endpoint>
            <Endpoint secure="true"  async="true">https://XXXX</Endpoint>
        </Transaction>

        <!-- In support of XDS Affinity Domain Option -->
        <!-- placed here so the gateway knows where to direct local registry requests. -->
        <ObjectReference name="registry" refname="localregistry" reftype="DocumentRegistryType"/>

        <!-- To support outbound PDQ requests -->
        <ObjectReference name="pds" refname="localpds" reftype="PDSType"/>

        <!-- The configuration to use to determine which XCPD Responding Gateways to connect to for CrossGatewayPatientDiscovery requests. -->
        <ObjectReference name="xcpd_rgs" refname="XCPDRespondingGateways" reftype="XCPDRespondingGatewaysType"/>

        <Property name="DeviceId">1.3.6.1.4.1.21367.13.10.417</Property>
        <Property name="DeviceName">GATEWAY_VANGENT_XCAIG</Property>
        
        <Property name="CommunityAssigningAuthority">1.3.6.1.4.1.21367.13.20.1000</Property>

        <!-- This will be used to pass along to XCPD Responding Gateway's if not supplied in
             a request to the XCPD Initiating Gateway (e.g. PDQ). -->
        <Property name="MinimumDegreeMatchPercentage">90</Property>

        <!-- Set the amount of days to cache a correlation when a MATCH is found. -->
        <Property name="MatchCacheExpirationDays">5</Property>

        <!-- Set the amount of days to cache a correlation when NO MATCH is found. -->
        <Property name="NoMatchCacheExpirationDays">5</Property>
        
        <!-- determine how XCA Initiating Gateway will process queries -->
        <!-- XCAInitiatingGatewayPatientMappingMode options include:
             1) passthrough - Do not translate patient identifiers (use assigning authority
                to determine which responding gateways to send requests to).  Will use
                AssigningAuthorityType's defined in this file to find RespondingGateway/Registry
                mappings.
             2) xcpd - A PIX query will be directed to an XCPD IG to determine where to go.
             3) pix? - TBD / requests will be directed to a PIXManager to determine where to go.
        -->
        <Property name="XCAInitiatingGatewayPatientMappingMode">passthrough</Property>

         <!-- To support outbound XCPD Initiating Gateway PIX requests when in "xcpd" mode. -->
         <!-- OK to self reference here. -->
        <ObjectReference name="xcpdig" refname="localig" reftype="InitiatingGatewayType"/>
    </Actor>

    <!-- Lists the XCPD Responding Gateways to connect to for CrossGatewayPatientDiscovery requests. -->
    <Object name="XCPDRespondingGateways" type="XCPDRespondingGatewaysType">
        <ObjectReference refname="localrg" reftype="RespondingGatewayType"/>
        <!--<ObjectReference refname="vangent2-rg" reftype="RespondingGatewayType"/>-->
    </Object>

    <Actor name="localrg" type="RespondingGatewayType"> <!-- Local Responding Gateway -->
        <UniqueId>urn:oid:1.3.6.1.4.1.21367.13.3070</UniqueId>  <!-- Home Community ID -->
        <Transaction name="CrossGatewayQuery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xcarg</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xcarg</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xcargas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xcargas</Endpoint>
        </Transaction>
        <Transaction name="CrossGatewayRetrieve" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xcarg</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xcarg</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xcargas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xcargas</Endpoint>
        </Transaction>
        <Transaction name="CrossGatewayPatientDiscovery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xcpdrg</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xcpdrg</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xcpdrgas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xcpdrgas</Endpoint>
        </Transaction>
        <Transaction name="PatientLocationQuery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/xcpdrg</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8181/axis2/services/xcpdrg</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8080/axis2/services/xcpdrgas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8181/axis2/services/xcpdrgas</Endpoint>
        </Transaction>

        <!-- In support of XDS Affinity Domain Option -->
        <!-- placed here so the gateway knows where to direct local registry requests. -->
        <ObjectReference name="registry" refname="localregistry" reftype="DocumentRegistryType"/>

        <!-- To support outbound PDQ requests -->
        <ObjectReference name="pds" refname="localpds" reftype="PDSType"/>

        <Property name="DeviceId">1.3.6.1.4.1.21367.13.10.417</Property>
        <Property name="DeviceName">GATEWAY_VANGENT_XCARG</Property>
        <Property name="CommunityAssigningAuthority">1.3.6.1.4.1.21367.13.20.1000</Property>

    </Actor>

<!--
    <Actor name="vangent2-rg" type="RespondingGatewayType">
        <UniqueId>urn:oid:1.3.6.1.4.1.21367.13.3071</UniqueId>
        <Transaction name="CrossGatewayQuery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8105/axis2/services/xcarg</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8206/axis2/services/xcarg</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8105/axis2/services/xcargas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8206/axis2/services/xcargas</Endpoint>
        </Transaction>
        <Transaction name="CrossGatewayRetrieve" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8105/axis2/services/xcarg</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8206/axis2/services/xcarg</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8105/axis2/services/xcargas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8206/axis2/services/xcargas</Endpoint>
        </Transaction>
        <Transaction name="CrossGatewayPatientDiscovery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8105/axis2/services/xcpdrg</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8206/axis2/services/xcpdrg</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8105/axis2/services/xcpdrgas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8206/axis2/services/xcpdrgas</Endpoint>
        </Transaction>
        <Transaction name="PatientLocationQuery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8105/axis2/services/xcpdrg</Endpoint>
            <Endpoint secure="true"  async="false">https://localhost:8206/axis2/services/xcpdrg</Endpoint>
            <Endpoint secure="false" async="true">http://localhost:8105/axis2/services/xcpdrgas</Endpoint>
            <Endpoint secure="true"  async="true">https://localhost:8206/axis2/services/xcpdrgas</Endpoint>
        </Transaction>
        
        <Property name="DeviceId">1.3.6.1.4.1.21367.13.10.417</Property>
        <Property name="DeviceName">GATEWAY_VANGENT_XCARG</Property>

    </Actor>
-->

    <Actor name="localpix" type="PIXManagerType">
        <UniqueId>NA</UniqueId>
        <Transaction name="PatientRegistryRecordAdded" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/pixmgr</Endpoint>
            <Endpoint secure="true"  async="false">https://XXXX</Endpoint>
            <Endpoint secure="false" async="true">http://XXXX</Endpoint>
            <Endpoint secure="true"  async="true">https://XXXX</Endpoint>
        </Transaction>
        <Transaction name="PatientRegistryRecordRevised" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/pixmgr</Endpoint>
            <Endpoint secure="true"  async="false">https://XXXX</Endpoint>
            <Endpoint secure="false" async="true">http://XXXX</Endpoint>
            <Endpoint secure="true"  async="true">https://XXXX</Endpoint>
        </Transaction>
        <Transaction name="PatientRegistryDuplicatesResolved" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/pixmgr</Endpoint>
            <Endpoint secure="true"  async="false">https://XXXX</Endpoint>
            <Endpoint secure="false" async="true">http://XXXX</Endpoint>
            <Endpoint secure="true"  async="true">https://XXXX</Endpoint>
        </Transaction>
        <Transaction name="PatientRegistryGetIdentifiersQuery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/pixmgr</Endpoint>
            <Endpoint secure="true"  async="false">https://XXXX</Endpoint>
            <Endpoint secure="false" async="true">http://XXXX</Endpoint>
            <Endpoint secure="true"  async="true">https://XXXX</Endpoint>
        </Transaction>
        <Property name="DeviceId">1.3.6.1.4.1.21367.13.10.417</Property>
        <Property name="DeviceName">GATEWAY_VANGENT_PIX</Property>
    </Actor>

    <Actor name="localpds" type="PDSType">
        <UniqueId>NA</UniqueId>
        <Transaction name="PatientRegistryFindCandidatesQuery" secure="false" async="false">
            <Endpoint secure="false" async="false">http://localhost:8080/axis2/services/pds</Endpoint>
            <Endpoint secure="true"  async="false">https://XXXX</Endpoint>
            <Endpoint secure="false" async="true">http://XXXX</Endpoint>
            <Endpoint secure="true"  async="true">https://XXXX</Endpoint>
        </Transaction>
        <Property name="DeviceId">1.3.6.1.4.1.21367.13.10.417</Property>
        <Property name="DeviceName">GATEWAY_VANGENT_PDS</Property>
    </Actor>

</Config>
