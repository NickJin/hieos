<?xml version="1.0" encoding="UTF-8"?>
<xdsb:ProvideAndRegisterDocumentSetRequest xmlns:xdsb="urn:ihe:iti:xds-b:2007">
    <lcm:SubmitObjectsRequest xmlns:lcm="urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0">
        <rim:RegistryObjectList xmlns:rim="urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0">
            <rim:ExtrinsicObject id="{EntryUUID}" mimeType="{DocumentMimeType}" 
                objectType="urn:uuid:7edca82f-054d-47f2-a032-9b2a5b5186c1">
                
                <rim:Slot name="creationTime">
                    <rim:ValueList>
                        <rim:Value>{CreationTime}</rim:Value>
                    </rim:ValueList>
                </rim:Slot>
                <rim:Slot name="languageCode">
                    <rim:ValueList>
                        <rim:Value>{LanguageCode}</rim:Value>
                    </rim:ValueList>
                </rim:Slot>
                <rim:Slot name="legalAuthenticator">
                    <rim:ValueList>
                        <rim:Value>{LegalAuthenticatorExtension}^{LegalAuthenticatorLastName}^{LegalAuthenticatorFirstName}^^{LegalAuthenticatorSuffix}^{LegalAuthenticatorPrefix}^^^{LegalAuthenticatorRoot}</rim:Value>
                    </rim:ValueList>
                </rim:Slot>
                <rim:Slot name="serviceStartTime">
                    <rim:ValueList>
                        <rim:Value>{ServiceStartTime}</rim:Value>
                    </rim:ValueList>
                </rim:Slot>
                <rim:Slot name="serviceStopTime">
                    <rim:ValueList>
                        <rim:Value>{ServiceStopTime}</rim:Value>
                    </rim:ValueList>
                </rim:Slot>
                <rim:Slot name="sourcePatientId">
                    <rim:ValueList>
                        <rim:Value>{SourcePatientExtension}^^^{SourcePatientRoot}</rim:Value>
                    </rim:ValueList>
                </rim:Slot>
                
                <rim:Name>
                    <rim:LocalizedString value="{DocumentTitle}"></rim:LocalizedString>
                </rim:Name>
                <rim:Description></rim:Description>
                
                <rim:Classification classificationScheme="urn:uuid:93606bcf-9494-43ec-9b4e-a7748d1a838d" 
                    classifiedObject="{EntryUUID}" nodeRepresentation="" 
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" 
                    id="my_id_1">
                    <rim:Slot name="authorPerson">
                        <rim:ValueList>
                            <rim:Value>{AuthorPersonExtension}^{AuthorPersonLastName}^{AuthorPersonFirstName}^^{AuthorPersonSuffix}^{AuthorPersonPrefix}^^^{AuthorPersonRoot}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                    <rim:Slot name="authorInstitution">
                        <rim:ValueList>
                            <rim:Value>{AuthorInstitutionName}^^^^^{AuthorInstitutionRoot}^^^^{AuthorInstitutionExtension}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                    <rim:Slot name="authorRole">  
                        <rim:ValueList>
                            <rim:Value>{AuthorRole}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                </rim:Classification>
                <rim:Classification 
                    classificationScheme="urn:uuid:41a5887f-8865-4c09-adf7-e362475b143a" 
                    classifiedObject="{EntryUUID}" 
                    id="my_id_2"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"
                    nodeRepresentation="{DocumentClassCode}">
                    <rim:Name>
                        <rim:LocalizedString value="{DocumentClassDisplayName}"/>
                    </rim:Name>
                    <rim:Slot name="codingScheme">
                        <rim:ValueList>
                            <rim:Value>{DocumentClassCodeSystem}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                </rim:Classification>
                <rim:Classification 
                    classificationScheme="urn:uuid:f4f85eac-e6cb-4883-b524-f2705394840f" 
                    classifiedObject="{EntryUUID}" 
                    id="my_id_3"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"
                    nodeRepresentation="{DocumentConfidentialityCode}">
                    <rim:Name>
                        <rim:LocalizedString value="{DocumentConfidentialityDisplayName}"/>
                    </rim:Name>
                    <rim:Slot name="codingScheme">
                        <rim:ValueList>
                            <rim:Value>{DocumentConfidentialityCodeSystem}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                </rim:Classification>                
                <rim:Classification 
                    classificationScheme="urn:uuid:a09d5840-386c-46f2-b5ad-9c3699a4309d" 
                    classifiedObject="{EntryUUID}" 
                    id="my_id_4"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"
                    nodeRepresentation="{DocumentFormatCode}">
                    <rim:Name>
                        <rim:LocalizedString value="{DocumentFormatDisplayName}"/>
                    </rim:Name>
                    <rim:Slot name="codingScheme">
                        <rim:ValueList>
                            <rim:Value>{DocumentFormatCodeSystem}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                </rim:Classification>
                <rim:Classification 
                    classificationScheme="urn:uuid:f33fb8ac-18af-42cc-ae0e-ed0b0bdb91e1" 
                    classifiedObject="{EntryUUID}" 
                    id="my_id_5"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"
                    nodeRepresentation="{HealthcareFacilityTypeCode}">
                    <rim:Name>
                        <rim:LocalizedString value="{HealthcareFacilityTypeCodeDisplayName}"/>
                    </rim:Name>
                    <rim:Slot name="codingScheme">
                        <rim:ValueList>
                            <rim:Value>{HealthcareFacilityTypeCodeSystem}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                </rim:Classification>
                <rim:Classification 
                    classificationScheme="urn:uuid:cccf5598-8b07-4b77-a05e-ae952c785ead" 
                    classifiedObject="{EntryUUID}" 
                    id="my_id_6"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"
                    nodeRepresentation="{PracticeSettingCode}">
                    <rim:Name>
                        <rim:LocalizedString value="{PracticeSettingDisplayName}" />
                    </rim:Name>
                    <rim:Slot name="codingScheme">
                        <rim:ValueList>
                            <rim:Value>{PracticeSettingCodeSystem}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                </rim:Classification>
                <rim:Classification 
                    classificationScheme="urn:uuid:f0306f51-975f-434e-a61c-c59651d33983" 
                    classifiedObject="{EntryUUID}" 
                    nodeRepresentation="{DocumentTypeCode}"
                    id="my_id_7"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification">
                    <rim:Name>
                        <rim:LocalizedString value="{DocumentTypeDisplayName}"/>
                    </rim:Name>
                    <rim:Slot name="codingScheme">
                        <rim:ValueList>
                            <rim:Value>{DocumentTypeCodeSystem}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                </rim:Classification>

                <rim:ExternalIdentifier  
                    identificationScheme="urn:uuid:6b5aea1a-874d-4603-a4bc-96a0a7b38446"  
                    value="{PatientExtension}^^^{PatientRoot}" 
                    id="my_id_30"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier"> 
                    <rim:Name> 
                        <rim:LocalizedString value = "XDSDocumentEntry.patientId"/> 
                    </rim:Name> 
                </rim:ExternalIdentifier> 
                <rim:ExternalIdentifier 
                    identificationScheme="urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab" 
                    value="{DocumentUniqueId}"
                    id="my_id_31"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier">
                    <rim:Name>
                        <rim:LocalizedString value="XDSDocumentEntry.uniqueId"/>
                    </rim:Name>
                </rim:ExternalIdentifier>
                
            </rim:ExtrinsicObject>

            
            <!-- Submission Set -->
            <rim:RegistryPackage id="SubmissionSet{EntryUUID}" 
                objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:RegistryPackage">
                           
                <rim:Slot name="submissionTime">
                    <rim:ValueList>
                        <rim:Value>{SubmissionTime}</rim:Value>
                    </rim:ValueList>
                </rim:Slot>
               
                <rim:Name> 
                    <rim:LocalizedString value="{DocumentTitle}"/> 
                </rim:Name>
                
                <!-- Classify registry package as being an XDSSubmissionSet -->
                <Classification 
                    classificationNode="urn:uuid:a54d6aa5-d40d-43f9-88c5-b4633d873bdd"
                    classifiedObject="SubmissionSet{EntryUUID}" 
                    id="my_id_45" 
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification" />
                    
                <rim:Classification
                    classificationScheme="urn:uuid:a7058bb9-b4e4-4307-ba5b-e3f0ab85e12d"
                    classifiedObject="SubmissionSet{EntryUUID}"
                    id="my_id_50"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"
                    nodeRepresentation="">
                    <rim:Slot name="authorPerson">
                        <rim:ValueList>
                            <rim:Value>{AuthorPersonExtension}^{AuthorPersonLastName}^{AuthorPersonFirstName}^^{AuthorPersonSuffix}^{AuthorPersonPrefix}^^^{AuthorPersonRoot}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                    <rim:Slot name="authorInstitution">
                        <rim:ValueList>
                            <rim:Value>{AuthorInstitutionName}^^^^^{AuthorInstitutionRoot}^^^^{AuthorInstitutionExtension}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                    <rim:Slot name="authorRole">  
                        <rim:ValueList>
                            <rim:Value>{AuthorRole}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                </rim:Classification>
                <rim:Classification
                    classificationScheme="urn:uuid:aa543740-bdda-424e-8c96-df4873be8500"
                    classifiedObject="SubmissionSet{EntryUUID}"
                    id="my_id_51"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification"
                    nodeRepresentation="{ContentTypeCode}">
                    <rim:Name>
                        <rim:LocalizedString value="{ContentTypeDisplayName}" />
                    </rim:Name>
                    <rim:Slot name="codingScheme">
                        <rim:ValueList>
                            <rim:Value>{ContentTypeCodeSystem}</rim:Value>
                        </rim:ValueList>
                    </rim:Slot>
                </rim:Classification>

                <rim:ExternalIdentifier 
                    identificationScheme="urn:uuid:6b5aea1a-874d-4603-a4bc-96a0a7b38446" 
                    value="{PatientExtension}^^^{PatientRoot}"
                    id="my_id_60"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier">
                    <rim:Name>
                        <rim:LocalizedString value="XDSSubmissionSet.patientId"/>
                    </rim:Name>
                </rim:ExternalIdentifier>
                <rim:ExternalIdentifier 
                    identificationScheme="urn:uuid:554ac39e-e3fe-47fe-b233-965d2a147832" 
                    value="{SourceId}"
                    id="my_id_61"
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier">
                    <rim:Name>
                        <rim:LocalizedString value = "XDSSubmissionSet.sourceId"/>
                    </rim:Name>
                </rim:ExternalIdentifier>
                <rim:ExternalIdentifier 
                    identificationScheme="urn:uuid:96fdda7c-d067-4183-912e-bf5ee74998a8"
                    id="my_id_62" 
                    objectType="urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier"
                    value="{SubmissionSetUniqueId}">
                    <rim:Name>
                        <rim:LocalizedString value = "XDSSubmissionSet.uniqueId"/>
                    </rim:Name>
                </rim:ExternalIdentifier>
                
            </rim:RegistryPackage>
        </rim:RegistryObjectList>
    </lcm:SubmitObjectsRequest>
</xdsb:ProvideAndRegisterDocumentSetRequest>
